package cl.telematica.locationexample;

import cl.telematica.locationexample.interfaces.LocationListenerHandler;
import cl.telematica.locationexample.location.ActiveLocationManagerActivity;


import android.content.Intent;
import android.location.Location;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.view.WindowManager;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.Spinner;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends ActiveLocationManagerActivity {
	
	public static String citylatitudeText;
	public static String citylongitudeText;
	public static TextView latitudeText;
	public static TextView longitudText;
	public static String locationSet;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
		
		Button b = (Button)findViewById(R.id.btnTestNoResults);
		Button c = (Button)findViewById(R.id.btnGPSSearch);
		Button d = (Button)findViewById(R.id.btnSetCity);
				
		final Spinner spinner = (Spinner)findViewById(R.id.spinner1);
		ArrayAdapter<String> dataAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_item);
		dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		spinner.setOnItemSelectedListener(new CustomOnItemSelectedListener());
				 
		b.setOnClickListener(new OnClickListener() {
			
			@Override
			public void onClick(View v) {
				startActivity(new Intent(MainActivity.this, NoResults.class));
			};
		});
		c.setOnClickListener(new OnClickListener() {
			
			@Override
			public void onClick(View v) {			
				startActivity(new Intent(MainActivity.this, NewSearch.class));
			};
		});
		
		d.setOnClickListener(new OnClickListener() {
			
			 
			@Override
			public void onClick(View v) {
				
				String locationSet = String.valueOf(spinner.getSelectedItem());
				if( locationSet.equals("Washington D.C.") )
				{ citylatitudeText = "38.9047 N";
				citylongitudeText = "77.0164 W";
				}
				else if (locationSet.equals("Mansfield, PA"))
				{citylatitudeText = "41.8061 N";
				citylongitudeText = "77.0756 W";			
				}
				else if (locationSet.equals( "New York, NY"))
				{citylatitudeText = "40.7127° N";
				citylongitudeText = "74.0059° W";			
				}
				else if (locationSet.equals( "Juneau, AL"))
				{citylatitudeText = "58.3000° N";
				citylongitudeText = "134.4167° W";			
				}
				else if (locationSet.equals("Phoenix, AZ"))
				{citylatitudeText = "33.4500° N";
				citylongitudeText = "112.0667° W";			
				}
				else if (locationSet.equals("Tucson, AZ"))
				{citylatitudeText = "32.2217° N";
				citylongitudeText = "110.9264° W";			
				}
				else if (locationSet.equals( "Sacramento, CA"))
				{citylatitudeText = "38.5556° N";
				citylongitudeText = "121.4689° W";			
				}
				else if (locationSet.equals("San Diego, CA"))
				{citylatitudeText = "32.7150° N";
				citylongitudeText = "117.1625° W";			
				}
				else if (locationSet.equals("Los Angeles, CA"))
				{citylatitudeText = "34.0500° N";
				citylongitudeText = "118.2500° W";			
				}
				else if (locationSet.equals("Denver, CO"))
				{citylatitudeText = "39.7392° N";
				citylongitudeText = "104.9903° W";			
				}
				else if (locationSet.equals("Jacksonville, FL"))
				{citylatitudeText = "30.3369° N";
				citylongitudeText = "81.6614° W";			
				}
				else if (locationSet.equals("Orlando, FL"))
				{citylatitudeText = "28.4158° N";
				citylongitudeText = "81.2989° W";			
				}
				else if (locationSet.equals("Atlanta, GA"))
				{citylatitudeText = "33.7550° N";
				citylongitudeText = "84.3900° W";			
				}
				else if (locationSet.equals("Boise, ID"))
				{citylatitudeText = "43.6167° N";
				citylongitudeText = "116.2000° W";			
				}
				else if (locationSet.equals("Chicago, IL"))
				{citylatitudeText = "41.8369° N";
				citylongitudeText = "87.6847° W";			
				}
				else if (locationSet.equals("Indianapolis, IN"))
				{citylatitudeText = "39.7910° N";
				citylongitudeText = "86.1480° W";			
				}
				else if (locationSet.equals("Des Moines, IA"))
				{citylatitudeText = "41.5908° N";
				citylongitudeText = "93.6208° W";			
				}
				else if (locationSet.equals("Kansas City, KS"))
				{citylatitudeText = "39.1067° N";
				citylongitudeText = "94.6764° W";			
				}
				else if (locationSet.equals("Louisville, KY"))
				{citylatitudeText = "38.2500° N";
				citylongitudeText = "85.7667° W";			
				}
				else if (locationSet.equals("New Orleans, LA"))
				{citylatitudeText = "29.9500° N";
				citylongitudeText = "90.0667° W";			
				}
				else if (locationSet.equals("Portland, ME"))
				{citylatitudeText = "43.6667° N";
				citylongitudeText = "70.2667° W";			
				}
				else if (locationSet.equals("Baltimore, MD"))
				{citylatitudeText = "39.2833° N";
				citylongitudeText = "76.6167° W";			
				}
				else if (locationSet.equals("Boston, MA"))
				{citylatitudeText = "42.3601° N";
				citylongitudeText = "71.0589° W";			
				}
				else if (locationSet.equals("Detroit, MI"))
				{citylatitudeText = "42.3314° N";
				citylongitudeText = "83.0458° W";			
				}
				else if (locationSet.equals("Minneapolis, MN"))
				{citylatitudeText = "44.9778° N";
				citylongitudeText = "93.2650° W";			
				}
				else if (locationSet.equals("Seattle, WA"))
				{citylatitudeText = "47.6097° N";
				citylongitudeText = "122.3331° W";			
				}
				else
				{citylatitudeText = "39.9500° N";
				citylongitudeText = "75.1667° W";			
				}				
				// TODO Auto-generated method stub
				startActivity(new Intent(MainActivity.this, NewSearch.class));
			};
		});
		
		latitudeText = (TextView) findViewById(R.id.cityLong);
		longitudText = (TextView) findViewById(R.id.cityLat);
		
		listener = new LocationListenerHandler() {
			@Override
			public void OnLocationReceived(Location loc) {
				latitudeText.setText("" + loc.getLatitude());
				longitudText.setText("" + loc.getLongitude());
			}
        };
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}

}
